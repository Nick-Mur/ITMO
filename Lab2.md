# Конспект по основам Bash и сетевым технологиям

## Содержание

1. [Введение](#введение)
2. [Переменные](#переменные)
3. [Операции](#операции)
4. [Условные конструкции](#условные-конструкции)
5. [Функции](#функции)
6. [Циклы](#циклы)
7. [Работа с массивами](#работа-с-массивами)
8. [Права доступа к файлам](#права-доступа-к-файлам)
   - [Просмотр прав доступа](#просмотр-прав-доступа)
   - [Выдача прав доступа](#выдача-прав-доступа)
9. [IP-адрес и маска подсети](#ip-адрес-и-маска-подсети)
   - [Что такое IP-адрес](#что-такое-ip-адрес)
   - [Маска подсети](#маска-подсети)
   - [Зачем нужны IP-адрес и маска подсети](#зачем-нужны-ip-адрес-и-маска-подсети)
10. [Заключение](#заключение)

---

## Введение

В этом конспекте мы рассмотрим ключевые концепции программирования на языке Bash и основы сетевых технологий. Эти знания помогут вам в написании скриптов для автоматизации задач, управлении файлами и правами доступа, а также в понимании принципов работы сетей и IP-адресации.

---

## Переменные

### Объявление переменных

В Bash переменные объявляются без указания типа данных.

**Синтаксис:**

```bash
variable_name=value
```

**Пример:**

```bash
a=10
name="John"
```

**Важно:** Не должно быть пробелов вокруг знака `=`.

### Использование переменных

Для доступа к значению переменной используется знак `$`.

**Пример:**

```bash
echo $a     # Выведет 10
echo $name  # Выведет John
```

### Специальные переменные

- `$0` — имя скрипта.
- `$1, $2, ..., $9` — параметры, переданные скрипту при запуске.
- `$#` — количество переданных параметров.
- `$@` — все параметры скрипта.

**Пример:**

```bash
#!/bin/bash
echo "Скрипт запущен с именем: $0"
echo "Первый параметр: $1"
echo "Второй параметр: $2"
echo "Всего параметров: $#"
```

---

## Операции

### Арифметические операции

Bash поддерживает базовые арифметические операции:

- Сложение: `+`
- Вычитание: `-`
- Умножение: `*`
- Деление: `/`
- Остаток от деления: `%`
- Возведение в степень: `**`

**Пример:**

```bash
a=5
b=3
sum=$((a + b))        # 8
diff=$((a - b))       # 2
prod=$((a * b))       # 15
quot=$((a / b))       # 1
mod=$((a % b))        # 2
power=$((a ** b))     # 125
```

### Логические операции

- Логическое И: `&&`
- Логическое ИЛИ: `||`
- Логическое НЕ: `!`

**Пример:**

```bash
if [[ $a -gt 0 && $b -gt 0 ]]; then
  echo "Оба числа положительные"
fi
```

### Операции сравнения

#### Числовые сравнения

- Равно: `-eq`
- Не равно: `-ne`
- Больше: `-gt`
- Больше или равно: `-ge`
- Меньше: `-lt`
- Меньше или равно: `-le`

**Пример:**

```bash
if [[ $a -eq $b ]]; then
  echo "a равно b"
fi
```

#### Строковые сравнения

- Равно: `=`
- Не равно: `!=`
- Пустая строка: `-z`
- Непустая строка: `-n`

**Пример:**

```bash
if [[ -z $name ]]; then
  echo "Имя не задано"
fi
```

---

## Условные конструкции

### Оператор `if`

**Синтаксис:**

```bash
if условие; then
  команды
elif другое_условие; then
  другие_команды
else
  команды_по_умолчанию
fi
```

**Пример:**

```bash
if [[ $a -gt $b ]]; then
  echo "a больше b"
elif [[ $a -lt $b ]]; then
  echo "a меньше b"
else
  echo "a равно b"
fi
```

---

## Функции

Функции позволяют группировать повторяющийся код и делать его более управляемым.

### Объявление функции

**Синтаксис:**

```bash
function имя_функции {
  команды
}
```

Или:

```bash
имя_функции() {
  команды
}
```

### Вызов функции

```bash
имя_функции
```

### Передача параметров в функцию

Внутри функции параметры доступны как `$1`, `$2` и т.д.

**Пример:**

```bash
greet() {
  echo "Hello, $1!"
}

greet "Alice"  # Выведет: Hello, Alice!
```

---

## Циклы

### Цикл `for`

Используется для перебора элементов.

**Синтаксис:**

```bash
for переменная in список; do
  команды
done
```

**Пример:**

```bash
for i in {1..5}; do
  echo "Number: $i"
done
```

### Цикл `while`

Выполняет команды пока условие истинно.

**Синтаксис:**

```bash
while условие; do
  команды
done
```

**Пример:**

```bash
count=0
while [[ $count -lt 5 ]]; do
  echo "Count: $count"
  ((count++))
done
```

### Цикл `until`

Выполняет команды пока условие ложно.

**Синтаксис:**

```bash
until условие; do
  команды
done
```

**Пример:**

```bash
count=5
until [[ $count -eq 0 ]]; do
  echo "Count: $count"
  ((count--))
done
```

---

## Работа с массивами

Массивы позволяют хранить набор значений в одной переменной.

### Объявление массива

**Синтаксис:**

```bash
array_name=(элемент1 элемент2 элемент3)
```

**Пример:**

```bash
colors=("red" "green" "blue")
```

### Доступ к элементам массива

- Первый элемент: `${array_name[0]}`
- Все элементы: `${array_name[@]}`
- Количество элементов: `${#array_name[@]}`

**Пример:**

```bash
echo "Первый цвет: ${colors[0]}"
echo "Все цвета: ${colors[@]}"
echo "Количество цветов: ${#colors[@]}"
```

### Добавление элементов в массив

```bash
array_name+=(новый_элемент)
```

**Пример:**

```bash
colors+=("yellow")
```

### Перебор элементов массива

```bash
for color in "${colors[@]}"; do
  echo "Цвет: $color"
done
```

---

## Права доступа к файлам

### Просмотр прав доступа

Команда `ls -l` позволяет увидеть права доступа к файлам и каталогам.

**Пример:**

```bash
ls -l filename
```

**Вывод:**

```
-rwxr-xr-- 1 user group size date filename
```

- **Первый символ**: тип файла (`-` файл, `d` каталог).
- **Следующие 9 символов**: права доступа, разделенные на три группы по три символа:
  - **Права владельца (user)**: `rwx`
  - **Права группы (group)**: `r-x`
  - **Права остальных (others)**: `r--`

**Обозначения:**

- `r` — право на чтение.
- `w` — право на запись.
- `x` — право на выполнение.
- `-` — права нет.

### Выдача прав доступа

Команда `chmod` используется для изменения прав доступа.

**Синтаксис:**

```bash
chmod параметры файл
```

**Числовой способ**

Каждому праву соответствует число:

- `r` — 4
- `w` — 2
- `x` — 1

Суммируя числа, получаем права для каждой категории.

**Пример:**

```bash
chmod 754 filename
```

- **7 (4+2+1)**: владелец — чтение, запись, выполнение.
- **5 (4+0+1)**: группа — чтение, выполнение.
- **4 (4+0+0)**: остальные — только чтение.

**Символьный способ**

Используются символы:

- Категории:
  - `u` — владелец.
  - `g` — группа.
  - `o` — остальные.
  - `a` — все.

- Операции:
  - `+` — добавить право.
  - `-` — убрать право.
  - `=` — установить точные права.

- Права:
  - `r` — чтение.
  - `w` — запись.
  - `x` — выполнение.

**Примеры:**

```bash
chmod u+x filename      # Добавить владельцу право выполнения
chmod go-w filename     # Убрать право записи у группы и остальных
chmod a=r filename      # Установить права только на чтение для всех
```

---

## IP-адрес и маска подсети

### Что такое IP-адрес

**IP-адрес (Internet Protocol address)** — это уникальный числовой идентификатор устройства в сети, использующий протокол IP для коммуникации.

- **IPv4-адрес** состоит из 32 бит, разделенных на 4 октета.
- Записывается в виде: `192.168.1.1`

### Маска подсети

**Маска подсети** определяет, какая часть IP-адреса относится к сети, а какая — к узлу в этой сети.

- Также состоит из 32 бит.
- Часто записывается как `255.255.255.0` или в префиксной нотации `/24`, что означает, что первые 24 бита — это адрес сети.

**Пример:**

- IP-адрес: `192.168.1.10`
- Маска подсети: `255.255.255.0` или `/24`
- Адрес сети: `192.168.1.0`
- Адрес узла: `10`

### Зачем нужны IP-адрес и маска подсети

- **IP-адрес** необходим для идентификации устройства в сети, позволяя маршрутизировать пакеты данных к правильному получателю.
- **Маска подсети** позволяет разделить сеть на более мелкие подсети, управлять трафиком и улучшать безопасность.

**Преимущества использования маски подсети:**

- **Улучшение производительности сети**: Разделение большой сети на подсети снижает объем широковещательного трафика.
- **Управление IP-адресами**: Более эффективное распределение адресов в организации.
- **Безопасность**: Ограничение доступа между подсетями.

---

## Заключение

Знание основ программирования на Bash и понимание принципов работы сетей являются важными навыками для системных администраторов и разработчиков. Умение писать скрипты для автоматизации задач, управлять правами доступа и понимать сетевую инфраструктуру поможет в эффективной работе с системами Linux и в успешном выполнении лабораторных работ.

---

**Дополнительные источники:**

- **Bash Scripting:**
  - [Присваивание значений переменным](https://tldp.org/LDP/abs/html/assignments.html)
  - [Условные операторы](https://tldp.org/LDP/abs/html/testconstructs.html)
  - [Циклы](https://tldp.org/LDP/abs/html/loops.html)
  - [Функции](https://tldp.org/LDP/abs/html/functions.html)
  - [Массивы](https://tldp.org/LDP/abs/html/arrays.html)

- **Сетевые технологии:**
  - В. Олифер, Н. Олифер "Компьютерные сети. Принципы, технологии, протоколы. Учебник" (2016)

---

**Удачи в изучении и успешном выполнении лабораторной работы!**
