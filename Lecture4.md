# Лекция 4: Основы компьютерных сетей и сетевые средства Linux

## Содержание

1. [Введение](#введение)
2. [Понятие компьютерной сети](#понятие-компьютерной-сети)
   - [Компоненты сети](#компоненты-сети)
     - [Конечные узлы](#конечные-узлы)
     - [Промежуточные устройства](#промежуточные-устройства)
     - [Сетевые среды](#сетевые-среды)
3. [Назначение и приложения сетей](#назначение-и-приложения-сетей)
   - [Сетевые приложения](#сетевые-приложения)
     - [Загрузчики и менеджеры файлов](#загрузчики-и-менеджеры-файлов)
     - [Интерактивные приложения](#интерактивные-приложения)
     - [Приложения реального времени](#приложения-реального-времени)
   - [Сетевые ресурсы](#сетевые-ресурсы)
4. [Топологии сетей](#топологии-сетей)
   - [Физическая топология](#физическая-топология)
   - [Логическая топология](#логическая-топология)
   - [Виды топологий](#виды-топологий)
     - [Топология «Шина»](#топология-шина)
     - [Кольцевая топология](#кольцевая-топология)
     - [Топология «Звезда»](#топология-звезда)
     - [Полносвязная топология](#полносвязная-топология)
     - [Частично-связная топология](#частично-связная-топология)
     - [Гибридная топология](#гибридная-топология)
5. [Сетевые модели](#сетевые-модели)
   - [Модель OSI](#модель-osi)
     - [Уровни модели OSI](#уровни-модели-osi)
     - [Процессы инкапсуляции и декапсуляции](#процессы-инкапсуляции-и-декапсуляции)
   - [Модель TCP/IP](#модель-tcpip)
6. [IPv4 адресация](#ipv4-адресация)
   - [Структура IPv4 адреса](#структура-ipv4-адреса)
   - [Преобразование адресов между двоичной и десятичной системами](#преобразование-адресов-между-двоичной-и-десятичной-системами)
   - [Классы IP-адресов](#классы-ip-адресов)
     - [Роль маски подсети](#роль-маски-подсети)
   - [Практические примеры расчета маски подсети](#практические-примеры-расчета-маски-подсети)
7. [Заключение](#заключение)

---

## Введение

В данной лекции мы познакомимся с основами компьютерных сетей и сетевыми средствами Linux. Мы рассмотрим ключевые понятия и термины, изучим компоненты сетей, их топологии, а также сетевые модели, такие как OSI и TCP/IP. Особое внимание будет уделено IPv4 адресации, включая расчет масок подсети и распределение адресов.

---

## Понятие компьютерной сети

**Компьютерная сеть** — это совокупность устройств и систем, которые подключены друг к другу логически или физически и взаимодействуют между собой. Сети могут состоять из двух устройств, соединенных кабелем, или охватывать весь мир, как это делает Интернет.

### Компоненты сети

Сетевые компоненты обычно разделяются на три основные группы:

1. **Конечные узлы (End Devices)**
2. **Промежуточные устройства (Intermediate Devices)**
3. **Сетевые среды (Network Media)**

#### Конечные узлы

Конечные узлы — это устройства, которые передают и принимают данные. К ним относятся:

- Персональные компьютеры (PC)
- Ноутбуки
- Смартфоны
- Серверы
- Игровые приставки
- Умные телевизоры

#### Промежуточные устройства

Промежуточные устройства соединяют конечные узлы между собой и направляют трафик по сети:

- **Коммутаторы (Switches)**
- **Маршрутизаторы (Routers)**
- **Точки доступа Wi-Fi**
- **Концентраторы (Hubs)**
- **Модемы**

#### Сетевые среды

Сетевые среды обеспечивают физическую передачу данных между устройствами:

- **Медные кабели** (витая пара, коаксиальный кабель)
- **Оптоволоконные кабели**
- **Беспроводные среды** (радиоволны)

---

## Назначение и приложения сетей

Компьютерные сети используются для различных целей, включая обмен данными, совместное использование ресурсов и предоставление услуг.

### Сетевые приложения

#### Загрузчики и менеджеры файлов

Приложения, которые передают данные без прямого вмешательства пользователя:

- **FTP-клиенты** (File Transfer Protocol)
- **TFTP-клиенты** (Trivial FTP)
- **Резервное копирование** (Backup Systems)

#### Интерактивные приложения

Приложения, требующие взаимодействия пользователя:

- **Мессенджеры** (Telegram, WhatsApp)
- **Электронная почта** (Email Clients)
- **Удаленное администрирование** (SSH, Remote Desktop)

#### Приложения реального времени

Приложения, чувствительные к задержкам и требующие высокой пропускной способности:

- **VoIP-телефония** (Voice over IP)
- **Видеоконференции** (Zoom, Skype)
- **Стриминговые сервисы** (YouTube Live, Twitch)

### Сетевые ресурсы

- **Сетевые принтеры**
- **Файловые хранилища и серверы**
- **Системы видеонаблюдения**
- **Облачные сервисы**

---

## Топологии сетей

Сетевые топологии описывают физическое или логическое расположение узлов и связей в сети.

### Физическая топология

Определяет физическое расположение устройств и кабелей в сети.

### Логическая топология

Определяет путь передачи данных между устройствами независимо от их физического расположения.

### Виды топологий

#### Топология «Шина»

- **Описание**: Все устройства подключены к единому общему кабелю.
- **Преимущества**: Простота реализации.
- **Недостатки**: Низкая отказоустойчивость; разрыв кабеля приводит к отказу всей сети.

#### Кольцевая топология

- **Описание**: Устройства соединены в кольцо; каждое устройство подключено к двум другим.
- **Преимущества**: Отсутствие коллизий.
- **Недостатки**: Разрыв в кольце нарушает работу всей сети.

#### Топология «Звезда»

- **Описание**: Все устройства подключены к центральному узлу (обычно коммутатору).
- **Преимущества**: Высокая отказоустойчивость; выход из строя одного устройства не влияет на остальные.
- **Недостатки**: Отказ центрального узла нарушает работу всей сети.

#### Полносвязная топология

- **Описание**: Каждое устройство соединено напрямую со всеми остальными.
- **Преимущества**: Максимальная отказоустойчивость.
- **Недостатки**: Высокая стоимость и сложность реализации.

#### Частично-связная топология

- **Описание**: Устройства соединены между собой не полностью, а через определенные узлы.
- **Преимущества**: Баланс между отказоустойчивостью и стоимостью.
- **Недостатки**: Возможны задержки и узкие места.

#### Гибридная топология

- **Описание**: Комбинация различных топологий (например, звезда-шина).
- **Преимущества**: Гибкость и масштабируемость.
- **Недостатки**: Сложность управления и настройки.

---

## Сетевые модели

Сетевые модели описывают стандарты и протоколы, обеспечивающие взаимодействие различных устройств в сети.

### Модель OSI

**Модель OSI (Open Systems Interconnection)** — эталонная модель взаимодействия открытых систем, состоящая из 7 уровней.

#### Уровни модели OSI

1. **Физический уровень**
   - Передача битов по физическому носителю (кабели, радиоволны).
   - Определяет электрические, механические и процедурные характеристики.

2. **Канальный уровень**
   - Обеспечивает надежную передачу кадров данных между узлами.
   - Управляет доступом к среде передачи.
   - **Протоколы**: Ethernet, PPP.

3. **Сетевой уровень**
   - Определяет маршрутизацию данных между узлами в разных сетях.
   - **Протоколы**: IP (Internet Protocol).

4. **Транспортный уровень**
   - Обеспечивает надежную передачу данных между узлами.
   - **Протоколы**: TCP (Transmission Control Protocol), UDP (User Datagram Protocol).

5. **Сеансовый уровень**
   - Управляет установкой, поддержанием и завершением сеансов связи.
   - **Функции**: Аутентификация, управление диалогом.

6. **Уровень представления**
   - Отвечает за преобразование данных в формат, понятный прикладному уровню.
   - **Функции**: Шифрование, сжатие, преобразование кодировок.

7. **Прикладной уровень**
   - Предоставляет приложениям доступ к сетевым услугам.
   - **Протоколы**: HTTP, FTP, SMTP.

#### Процессы инкапсуляции и декапсуляции

- **Инкапсуляция**: Процесс упаковки данных с верхних уровней на нижние при отправке.
- **Декапсуляция**: Обратный процесс при получении данных.

**Пример инкапсуляции:**

1. **Прикладной уровень**: Данные.
2. **Транспортный уровень**: Данные + Заголовок транспортного уровня (сегмент).
3. **Сетевой уровень**: Сегмент + Заголовок сетевого уровня (пакет).
4. **Канальный уровень**: Пакет + Заголовок и трейлер канального уровня (кадр).
5. **Физический уровень**: Кадр преобразуется в биты для передачи.

### Модель TCP/IP

**Модель TCP/IP** — практическая модель, используемая в современных сетях.

- **Уровни модели TCP/IP:**
  1. **Прикладной уровень** (Application)
  2. **Транспортный уровень** (Transport)
  3. **Интернет уровень** (Internet)
  4. **Сетевой доступ** (Network Access)

**Сравнение с моделью OSI:**

- **Прикладной уровень TCP/IP** объединяет уровни 5-7 модели OSI.
- **Сетевой доступ** объединяет уровни 1 и 2 модели OSI.

---

## IPv4 адресация

IPv4 — это протокол сетевого уровня модели OSI, использующий 32-битные адреса для идентификации узлов в сети.

### Структура IPv4 адреса

- **Адрес состоит из 4 октетов**, разделенных точками.
- **Пример**: 192.168.1.1
- **Диапазон каждого октета**: от 0 до 255
- **Общая длина адреса**: 32 бита

### Преобразование адресов между двоичной и десятичной системами

Каждый октет IPv4-адреса можно представить в двоичной системе:

| Бит    | 128 | 64 | 32 | 16 | 8 | 4 | 2 | 1 |
|--------|-----|----|----|----|---|---|---|---|
| Значение | 1/0 | 1/0 | 1/0 | 1/0 | 1/0 | 1/0 | 1/0 | 1/0 |

**Пример преобразования:**

- **Десятичный октет**: 192
- **Двоичный вид**: 11000000

**Как преобразовать:**

1. Начинаем с левого бита (128):
   - Если 192 ≥ 128, то ставим 1 и вычитаем 128 из 192 (192 - 128 = 64).
   - Иначе ставим 0.
2. Переходим к следующему биту (64):
   - Если оставшееся число ≥ 64, ставим 1 и вычитаем 64 (64 - 64 = 0).
   - Иначе ставим 0.
3. Повторяем для остальных битов.

### Классы IP-адресов

IP-адреса разделены на классы для упрощения управления и маршрутизации.

- **Класс A**
  - **Диапазон**: 0.0.0.0 – 127.255.255.255
  - **Маска по умолчанию**: 255.0.0.0
  - **Использование**: Очень крупные сети

- **Класс B**
  - **Диапазон**: 128.0.0.0 – 191.255.255.255
  - **Маска по умолчанию**: 255.255.0.0
  - **Использование**: Средние сети

- **Класс C**
  - **Диапазон**: 192.0.0.0 – 223.255.255.255
  - **Маска по умолчанию**: 255.255.255.0
  - **Использование**: Малые сети

- **Класс D**
  - **Диапазон**: 224.0.0.0 – 239.255.255.255
  - **Использование**: Мультимедийная рассылка (Multicast)

- **Класс E**
  - **Диапазон**: 240.0.0.0 – 255.255.255.255
  - **Использование**: Зарезервировано для будущего использования

#### Роль маски подсети

**Маска подсети** определяет, какая часть IP-адреса относится к сети, а какая — к узлу.

- **Маска класса A**: 255.0.0.0
- **Маска класса B**: 255.255.0.0
- **Маска класса C**: 255.255.255.0

Маска подсети позволяет разделять сеть на более мелкие подсети и эффективно управлять IP-адресами.

### Практические примеры расчета маски подсети

**Пример 1:**

- **Задача**: Имеется сеть 172.16.0.0. Необходимо создать 250 подсетей, каждая с 220 узлами.
- **Решение**:

  1. **Определяем класс адреса**: 172.16.0.0 — это класс B (маска по умолчанию 255.255.0.0).
  2. **Количество бит для подсетей**:
     - Нужно 8 бит для 256 адресов (2^8 = 256).
     - Но 256 > 250, значит, достаточно 8 бит.
  3. **Количество бит для узлов**:
     - Оставшиеся биты: 16 (всего бит) - 8 (подсети) = 8 бит.
     - 2^8 - 2 = 254 узла (вычитаем адрес сети и широковещательный адрес).
     - 254 > 220, условие выполняется.
  4. **Маска подсети**:
     - Маска будет 255.255.255.0

**Пример 2:**

- **Задача**: Имеется сеть 10.0.0.0. Необходимо создать 2000 подсетей, каждая с 1500 узлами.
- **Решение**:

  1. **Определяем класс адреса**: 10.0.0.0 — это класс A (маска по умолчанию 255.0.0.0).
  2. **Количество бит для подсетей**:
     - 2^11 = 2048 подсетей (11 бит).
     - 2048 > 2000, достаточно 11 бит.
  3. **Количество бит для узлов**:
     - Оставшиеся биты: 24 (всего бит) - 11 (подсети) = 13 бит.
     - 2^13 - 2 = 8190 узлов.
     - 8190 > 1500, условие выполняется.
  4. **Маска подсети**:
     - Маска будет 255.255.248.0 (CIDR нотация: /19)

**Пример 3:**

- **Задача**: Имеется сеть 192.168.0.0. Необходимо создать 2 подсети, каждая с 160 узлами.
- **Решение**:

  1. **Определяем класс адреса**: 192.168.0.0 — это класс C (маска по умолчанию 255.255.255.0).
  2. **Количество бит для подсетей**:
     - 2^1 = 2 подсети (1 бит).
  3. **Количество бит для узлов**:
     - Оставшиеся биты: 8 (всего бит) - 1 (подсети) = 7 бит.
     - 2^7 - 2 = 126 узлов.
     - 126 < 160, условие не выполняется.
  4. **Необходимо взять адрес класса B или использовать супернеттинг.

---

## Заключение

В этой лекции мы рассмотрели основы компьютерных сетей, их компоненты и назначение. Мы изучили различные топологии сетей, сетевые модели OSI и TCP/IP, а также подробно разобрали IPv4 адресацию. Понимание этих фундаментальных концепций является ключевым для дальнейшего изучения сетевых технологий и их практического применения.

---

**Рекомендуемая литература:**

- **Олифер В.Г., Олифер Н.А.** «Компьютерные сети: Принципы, технологии, протоколы»
- **Э. Таненбаум** «Компьютерные сети»

**Практические задания:**

1. **Задача 1**: Определите маску подсети для сети 172.16.0.0, если требуется 250 подсетей с 220 узлами в каждой.
2. **Задача 2**: Найдите маску подсети для сети 10.0.0.0 при необходимости создать 2000 подсетей с 1500 узлами в каждой.
3. **Задача 3**: Определите маску подсети для адреса 192.168.0.0, чтобы создать 2 подсети с 160 узлами в каждой.

**Подсказки:**

- Используйте формулы для расчета количества необходимых бит для подсетей и узлов.
- Помните о вычитании зарезервированных адресов (адрес сети и широковещательный адрес).
- Проверьте, соответствует ли класс адреса вашим требованиям, и при необходимости выберите другой класс или примените VLSM/CIDR.

---
